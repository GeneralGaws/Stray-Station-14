- type: entity
  name: Laser pistol prototype
  parent: BaseWeaponBatterySmall
  id: MakeshiftRnDLaser
  description: Not for revolution!
  components:
  - type: Sprite
    sprite: Pidoras/Objects/Weapons//Pistol/RnDLaserPistol.rsi
    layers:
    - state: base
      map: ["enum.GunVisualLayers.Base"]
    - state: mag-unshaded-0
      map: ["enum.GunVisualLayers.MagUnshaded"]
      shader: unshaded
    - state: light-icon
      shader: unshaded
      visible: false
      map: [ "light" ]
  - type: Clothing
    sprite: Pidoras/Objects/Weapons/Pistol/RnDLaserPistol.rsi
    state: base
  - type: ProjectileBatteryAmmoProvider
    proto: RnDPistolBolt
    fireCost: 150
  - type: Battery
    maxCharge: 900
    startingCharge: 0
  - type: MagazineVisuals
    magState: mag
    steps: 7
    zeroVisible: true
  - type: Appearance
  - type: DamageOnLand
    damage:
      types:
        Blunt: 5
  - type: DamageWeaponOnHit
    damage:
      types:
        Blunt: 5
  - type: Damageable
    damageContainer: Inorganic
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 10
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: Explosive
    explosionType: Default
    maxIntensity: 1
    intensitySlope: 1
    totalIntensity: 20
    canCreateVacuum: false
  - type: HandheldLight
    addPrefix: false
    blinkingBehaviourId: blinking
    radiatingBehaviourId: radiating
  - type: LightBehaviour
    behaviours:
      - !type:FadeBehaviour
        id: radiating
        interpolate: Linear
        maxDuration: 2.0
        startValue: 3.0
        endValue: 2.0
        isLooped: true
        property: Radius
        enabled: false
        reverseWhenFinished: true
      - !type:PulseBehaviour
        id: blinking
        interpolate: Nearest
        maxDuration: 1.0
        minValue: 0.1
        maxValue: 2.0
        isLooped: true
        property: Radius
        enabled: false
    toggleAction:
      name: action-name-toggle-light
      description: action-description-toggle-light
      icon: { sprite: Objects/Tools/flashlight.rsi, state: flashlight }
      iconOn: Objects/Tools/flashlight.rsi/flashlight-on.png
      event: !type:ToggleActionEvent
  - type: ToggleableLightVisuals
    spriteLayer: light
    inhandVisuals:
      left:
      - sprite: Pidoras/Objects/Weapons/Pistol/RnDLaserPistol.rsi
      - state: inhand-left-light
        shader: unshaded
      right:
      - sprite: Pidoras/Objects/Weapons/Pistol/RnDLaserPistol.rsi
      - state: inhand-right-light
        shader: unshaded
  - type: PointLight
    netsync: false
    enabled: false
    mask: /Textures/Effects/LightMasks/cone.png
    autoRot: true
    radius: 6
